<?xml version="1.0" encoding="UTF-8" standalone="no"?><classedDocument><article xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="po-hcontainer e0 e0" version="5.0-subset Balisage-1.2" xml:id="HR-23632987-8973"><title class="po-block e1 e1"><textual class="po-textual">XML Essence Testing</textual></title><info class="po-record e2 e2"><confgroup class="po-record e3 e3"><conftitle class="po-field e4 e4"><textual class="po-textual">Balisage: The Markup Conference 2010</textual></conftitle><confdates class="po-field e5 e5"><textual class="po-textual">August 3 - 6, 2010</textual></confdates></confgroup><abstract class="po-container e6 e6"><para class="po-block e7 e7"><emphasis class="po-inline e8 e8" role="bold"><textual class="po-textual">SYNOPSIS:</textual></emphasis><link class="po-inline e9 e9" xlink:actuate="onRequest" xlink:href="http://www.ncbi.nlm.nih.gov/pmc/" xlink:show="new" xlink:type="simple"><textual class="po-textual">PubMed Central (PMC)</textual></link><textual class="po-textual"> is the
               </textual><link class="po-inline e10 e10" xlink:actuate="onRequest" xlink:href="http://www.nih.gov/" xlink:show="new" xlink:type="simple"><textual class="po-textual">U.S. National Institutes
               of Health</textual></link><textual class="po-textual"> free digital archive, gathering together biomedical and life
            sciences journal literature from diverse sources. When an article arrives at PMC, it
            conforms to one of over 40 evolving DTDs. An ingestion process applies appropriate
            "Modified Local" and "Production" XSLT style sheets to produce two instances of the
            common </textual><link class="po-inline e11 e11" xlink:actuate="onRequest" xlink:href="http://dtd.nlm.nih.gov/archiving/" xlink:show="new" xlink:type="simple"><textual class="po-textual">NLM
               Archiving and Interchange DTD</textual></link><textual class="po-textual">. In the "Essence Testing" phase, the essential
            nodes of these XML instances, as specified by some 60 XPath expressions, are compared.
            This method allows the reliable detection of unintentional changes to an XSLT style
            sheet that can have negative impacts on product quality.</textual></para><para class="po-block e12 e12"><emphasis class="po-inline e13 e13" role="bold"><textual class="po-textual">OBJECTIVE:</textual></emphasis><textual class="po-textual"> Create an easy-to-use tool that allows
            tracking, reporting, and qualitative analysis to monitor the effects of changes to
            existing XSLT style sheets on the content of XML articles. The tool should have the
            ability to look beyond differences in the XML structures of those articles, focusing on
            essential data and its semantics (the document’s </textual><emphasis class="po-inline e14 e14" role="ital"><textual class="po-textual">Essence</textual></emphasis><textual class="po-textual">).</textual></para><para class="po-block e15 e15"><emphasis class="po-inline e16 e16" role="bold"><textual class="po-textual">RESULTS:</textual></emphasis><textual class="po-textual"> A Guided User Interface was created using
            CGI, which invokes 2 PERL scripts (sampler [SQL, UNIX], and converter [Saxon 9.1.0.5J]).
            A test and a control NXML document are created. The </textual><emphasis class="po-inline e17 e17" role="ital"><textual class="po-textual">Essence</textual></emphasis><textual class="po-textual"> is extracted from those documents using XPath expressions, and a
            JAVA program compares and formulates a report of the differences in the </textual><emphasis class="po-inline e18 e18" role="ital"><textual class="po-textual">Essence</textual></emphasis><textual class="po-textual"> documents.</textual></para><para class="po-block e19 e19"><emphasis class="po-inline e20 e20" role="bold"><textual class="po-textual">SIGNIFICANCE:</textual></emphasis><textual class="po-textual"> Quality control reports on XSLT style
            sheets are now run on a weekly basis, or any time significant changes are made to the
            XSLT style sheets. The level of control and the granularity of tracking has increased,
            and has had a very positive effect on quality of the XML output.</textual></para></abstract><author class="po-record e21 e21"><personname class="po-record e22 e22"><firstname class="po-field e23 e23"><textual class="po-textual">Abraham</textual></firstname><surname class="po-field e24 e24"><textual class="po-textual">Becker</textual></surname></personname><personblurb class="po-container e25 e25"><para class="po-block e26 e26"><textual class="po-textual">Abraham is currently working as a Contractor with the </textual><link class="po-inline e27 e27" xlink:actuate="onRequest" xlink:href="http://www.ncbi.nlm.nih.gov/" xlink:show="new" xlink:type="simple"><textual class="po-textual">National Center for Biotechnology
                  Information</textual></link><textual class="po-textual">. He started in print production, document management, and has
               been working with XML based technologies for the past seven years.</textual></para></personblurb><affiliation class="po-record e28 e28"><jobtitle class="po-field e29 e29"><textual class="po-textual">XML Translation Specialist</textual></jobtitle><orgname class="po-block e30 e30"><textual class="po-textual">National Center for Biotechnology Information (NCBI), National Library of
               Medicine (NLM), National Institutes of Heath (NIH)</textual></orgname></affiliation><email class="po-field e31 e31"><textual class="po-textual">beckera@ncbi.nlm.nih.gov</textual></email></author><author class="po-record e32 e32"><personname class="po-record e33 e33"><firstname class="po-field e34 e34"><textual class="po-textual">Jeff</textual></firstname><surname class="po-field e35 e35"><textual class="po-textual">Beck</textual></surname></personname><personblurb class="po-container e36 e36"><para class="po-block e37 e37"><textual class="po-textual">Jeff Beck has been involved in the PubMed Central project at NLM since 2000. He
               has been working in journal publishing since the early 1990s.</textual></para></personblurb><affiliation class="po-record e38 e38"><jobtitle class="po-field e39 e39"><textual class="po-textual">Technical Information Specialist</textual></jobtitle><orgname class="po-block e40 e40"><textual class="po-textual">National Center for Biotechnology Information (NCBI), National Library of
            Medicine (NLM), National Institutes of Heath (NIH)</textual></orgname></affiliation></author><legalnotice class="po-container e41 e41"><para class="po-block e42 e42"><textual class="po-textual">Authors' contribution to the Work was done as part of the Authors' official duties as NIH employees and is a Work of the United States Government.  Therefore, copyright may not be established in the United States. 17 U.S.C. § 105.  If Publisher intends to disseminate the Work outside the U.S., Publisher may secure copyright to the extent authorized under the domestic laws of the relevant country, subject to a paid-up, nonexclusive, irrevocable worldwide license to the United States in such copyrighted work to reproduce, prepare derivative works, distribute copies to the public and perform publicly and display publicly the work, and to permit others to do so.</textual></para></legalnotice><keywordset class="po-table e43 e43" role="author"><keyword class="po-field e44 e44"><textual class="po-textual">XML Essence Testing</textual></keyword><keyword class="po-field e45 e45"><textual class="po-textual">Regression</textual></keyword><keyword class="po-field e46 e46"><textual class="po-textual">XML Conformance Testing</textual></keyword><keyword class="po-field e47 e47"><textual class="po-textual">XML Quality Control</textual></keyword><keyword class="po-field e48 e48"><textual class="po-textual">Computer Science</textual></keyword><keyword class="po-field e49 e49"><textual class="po-textual">Information Storage and Retrieval</textual></keyword><keyword class="po-field e50 e50"><textual class="po-textual">Document Management</textual></keyword><keyword class="po-field e51 e51"><textual class="po-textual">XML Testing</textual></keyword></keywordset></info><section class="po-hcontainer e52 e52"><title class="po-block e53 e53"><textual class="po-textual">Introduction</textual></title><para class="po-block e54 e54"><textual class="po-textual">
         </textual><link class="po-inline e55 e55" xlink:actuate="onRequest" xlink:href="http://www.ncbi.nlm.nih.gov/pmc/" xlink:show="new" xlink:type="simple"><textual class="po-textual">PubMed Central
            (PMC)</textual></link><textual class="po-textual"> is the </textual><link class="po-inline e56 e56" xlink:actuate="onRequest" xlink:href="http://www.nih.gov/" xlink:show="new" xlink:type="simple"><textual class="po-textual">U.S.
            National Institutes of Health</textual></link><textual class="po-textual"> (NIH) free digital archive of biomedical and life
         sciences journal literature. </textual></para><para class="po-block e57 e57"><textual class="po-textual">PMC processes approximately 500 full-text XML articles per day, and 16,000 full-text
         articles per month, in over 40 evolving DTDs. The frequency of updates to the DTDs, and new
         versions of the </textual><link class="po-inline e58 e58" xlink:actuate="onRequest" xlink:href="http://dtd.nlm.nih.gov/" xlink:show="new" xlink:type="simple"><textual class="po-textual">NLM
            Archiving and Interchange DTD</textual></link><textual class="po-textual"> itself, force the XSLT style sheets that process
         those documents to also evolve rapidly. This continuous metamorphosis brought about a need
         to track the way changes to production XSLT style sheets affect XML result documents. A
         regression system was originally put into place which utilized the UNIX diff function. Its
         method was to check for textual differences between sample articles converted with
         "Production" XSLT style sheets, and those same sample articles converted with "Modified
         Local" XSLT style sheets (a basic regression test).</textual></para><para class="po-block e59 e59"><textual class="po-textual">PMC must maintain content in different versions of the </textual><link class="po-inline e60 e60" xlink:actuate="onRequest" xlink:href="http://dtd.nlm.nih.gov/" xlink:show="new" xlink:type="simple"><textual class="po-textual">NLM Archiving and Interchange DTD</textual></link><textual class="po-textual">. Since the
         release of version 3.0 in the fall of 2008, the PMC Conversion Group has been methodically
         upgrading our XSLT style sheets to XSLT2. This upgrade adds a level of confusion to our
         existing regression testing, since some of the changes from version 2.3 to version 3.0 are
         backwards incompatible, and some of the XML nesting structures have changed.</textual></para><para class="po-block e61 e61"><textual class="po-textual">How can we verify that an article originally created in DTD version 2.3, is now
         correctly represented by the new DTD version 3.0 coding?</textual></para><para class="po-block e62 e62"><textual class="po-textual">Upgrading or migrating the sample set to DTD 3.0 is an obvious answer, but in order to
         migrate the data, we need an XSLT conversion. It is the very XSLT style sheet that would
         perform this conversion which we aim to check. We needed a way to verify that the article
         written in DTD 3.0 is semantically the same as the 2.3 version. We needed to check that the
         test XML instance has the same content, even if the content is nested in a different
         structure, or captured using new named elements. We need to check the article's </textual><emphasis class="po-inline e63 e63" role="ital"><textual class="po-textual">Essence</textual></emphasis><textual class="po-textual">.</textual></para><para class="po-block e64 e64"><textual class="po-textual">Our solution was to define a set of XPaths that would extract essential nodes in the
         document, allowing us to compare a small subset of the most important nodes between a test
         and a control XML instance. The goal was to go beyond simple text comparison, to managing
         consistency of XML documents’ data and semantics across updates to the XSLT
         Converters.</textual></para></section><section class="po-hcontainer e65 e65"><title class="po-block e66 e66"><textual class="po-textual">Overview of the PMC XML Processing Model</textual></title><para class="po-block e67 e67"><textual class="po-textual">Some background information is necessary for a good understanding of how the Essence
         Testing system works. As stated earlier, PubMed Central accepts XML in just over 40
         different DTDs. Articles from each DTD are processed as follows: </textual><orderedlist class="po-table e68 e68"><listitem class="po-container e69 e69"><para class="po-block e70 e70"><textual class="po-textual">XML is submitted to the PMC FTP site, and ingested into the file system.</textual></para></listitem><listitem class="po-container e71 e71"><para class="po-block e72 e72"><textual class="po-textual">OASIS XML Catalogs resolve source XML PUBLIC and SYSTEM identifiers, which map
                  validation to the appropriate DTD.</textual></para></listitem><listitem class="po-container e73 e73"><para class="po-block e74 e74"><textual class="po-textual">A configuration file determines which production XSLT style sheet to apply,
                  based on the source XML DTD name and version.</textual></para></listitem><listitem class="po-container e75 e75"><para class="po-block e76 e76"><textual class="po-textual">The production XSLT is used to convert the source XML to a common </textual><link class="po-inline e77 e77" xlink:actuate="onRequest" xlink:href="http://dtd.nlm.nih.gov/" xlink:show="new" xlink:type="simple"><textual class="po-textual">NLM Archiving and
                     Interchange DTD</textual></link><textual class="po-textual"> 3.0 XML (NXML) format.</textual></para></listitem><listitem class="po-container e78 e78"><para class="po-block e79 e79"><textual class="po-textual">The newly created NXML and its associated files (Images, PDFs, Supplementary
                  files) are loaded to a common database for rendering and indexing.</textual></para></listitem></orderedlist><textual class="po-textual">Changes to the XSLT style sheets have an impact not only on the normalized
         NXML, but also on the HTML rendering. It is therefore important to ensure that changes to
         the XSLT style sheets do not negatively affect those downstream data products.</textual><figure class="po-container e80 e80" xml:id="regr-pmc-proc" xreflabel="regr-pmc-proc"><mediaobject class="po-container e81 e81"><imageobject class="po-container e82 e82"><imagedata class="po-meta e83 e83" fileref="../../../vol5/graphics/Becker01/Becker01-001.jpg" format="jpg"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></imagedata></imageobject></mediaobject></figure></para></section><section class="po-hcontainer e84 e84"><title class="po-block e85 e85"><textual class="po-textual">Methods</textual></title><section class="po-hcontainer e86 e86"><title class="po-block e87 e87"><textual class="po-textual">The Essence Testing Process</textual></title><para class="po-block e88 e88"><textual class="po-textual">The </textual><emphasis class="po-inline e89 e89" role="ital"><textual class="po-textual">Essence</textual></emphasis><textual class="po-textual"> Testing Software uses a single XML
            source instance (submitted by the external data provider), the user's "Modified local"
            copy of the appropriate XSLT style sheet, and the quality assured production NXML to
            test if the changes in the user's "Modified local" XSLT style sheet produce adverse
            effects in the test NXML output, when compared to the quality assured NXML.</textual></para><section class="po-hcontainer e90 e90"><title class="po-block e91 e91"><textual class="po-textual">Tracking</textual></title><para class="po-block e92 e92"><textual class="po-textual">Tracking the configuration used to convert each XML instance gives us the freedom
               to take completely random sample sets based on a given set of parameters. XML
               processing instructions are added to the NXML instances to facilitate tracking of the
               processing model applied. In the PMC system, the following information is written to PIs:</textual><orderedlist class="po-table e93 e93"><listitem class="po-container e94 e94"><para class="po-block e95 e95"><textual class="po-textual">DTD Identifier Value (DOCTYPE string used to resolve DTD)</textual></para></listitem><listitem class="po-container e96 e96"><para class="po-block e97 e97"><textual class="po-textual">DTD Identifier Type (PUBLIC or SYSTEM)</textual></para></listitem><listitem class="po-container e98 e98"><para class="po-block e99 e99"><textual class="po-textual">DTD Name</textual></para></listitem><listitem class="po-container e100 e100"><para class="po-block e101 e101"><textual class="po-textual">DTD Version</textual></para></listitem><listitem class="po-container e102 e102"><para class="po-block e103 e103"><textual class="po-textual">XSLT Name</textual></para></listitem><listitem class="po-container e104 e104"><para class="po-block e105 e105"><textual class="po-textual">XSLT Version</textual></para></listitem><listitem class="po-container e106 e106"><para class="po-block e107 e107"><textual class="po-textual">XSLT Effective Date</textual></para></listitem><listitem class="po-container e108 e108"><para class="po-block e109 e109"><textual class="po-textual">If XSLT is Currently in production</textual></para></listitem></orderedlist></para><para class="po-block e110 e110"><textual class="po-textual">These PIs are used to populate a tracking database in which each article's
               processing model is stored. Aside from generating sample sets, we have the added
               benefit of targeted reconversion when bugs are found. Each article instance is
               assigned to a specific processing configuration, and all articles processed with a
               given configuration can be queried for reconversion.</textual><figure class="po-container e111 e111" xml:id="regr-database-model" xreflabel="regr-database-model"><mediaobject class="po-container e112 e112"><imageobject class="po-container e113 e113"><imagedata class="po-meta e114 e114" fileref="../../../vol5/graphics/Becker01/Becker01-002.jpg" format="jpg"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></imagedata></imageobject></mediaobject></figure></para></section><section class="po-hcontainer e115 e115"><title class="po-block e116 e116"><textual class="po-textual">Defining the Document's Essence</textual></title><para class="po-block e117 e117"><textual class="po-textual">Familiarity with the XML model should guide which nodes in the XML test instances
               are the most important to monitor. The PMC Conversion Group created tests that fall
               into one of two categories: system critical or content related. System critical
               issues are those that directly impact the way an article is processed. For example,
               the Open Access Status registers inclusion in the </textual><link class="po-inline e118 e118" xlink:actuate="onRequest" xlink:href="http://www.ncbi.nlm.nih.gov/pmc/about/openftlist.html" xlink:show="new" xlink:type="simple"><textual class="po-textual">PMC Open Access
                  Subset</textual></link><textual class="po-textual">. These articles are generally made available immediately to the
               public under a creative commons license. It is critical that this property is set
               correctly, because many non-Open Access articles are contractually bound to be hidden
               until an embargo period expires. Content related issues are those that pertain to the
               quality of the data, such as the count of paragraphs, sections, references, and figures.</textual><itemizedlist class="po-table e119 e119"><listitem class="po-container e120 e120"><para class="po-block e121 e121"><emphasis class="po-inline e122 e122" role="bold"><textual class="po-textual">System Critical</textual></emphasis><textual class="po-textual">: Open Access Status,
                        Release Delays, Publication Dates, Journal Meta data, Article Meta
                        data</textual></para></listitem><listitem class="po-container e123 e123"><para class="po-block e124 e124"><emphasis class="po-inline e125 e125" role="bold"><textual class="po-textual">Content Related</textual></emphasis><textual class="po-textual">: Presence of Abstract,
                        Body, Paragraph Element counts, Back Matter, Article Type, Author counts,
                        Language(s), Figure Table and Math counts, Bibliographic References,
                        Citation counts</textual></para></listitem></itemizedlist><emphasis class="po-inline e126 e126" role="bold"><textual class="po-textual">Example</textual></emphasis><textual class="po-textual">: Research articles are always
               associated with a journal in the PMC context, so this test is system critical. The
               element &lt;journal-title&gt; is a child of &lt;journal-meta&gt; in NLM DTD version
               2.3. With the release of NLM DTD 3.0, the &lt;journal-title-group&gt; wrapper was
               added to group the optional elements &lt;trans-title-group&gt;,
               &lt;abbrev-journal-title&gt;, and &lt;journal-subtitle&gt;. A simple text comparison of
               these two structures would yield a mismatch. By using XPath, we facilitate comparison
               of the content from two separate DTD models, overlooking the differences in
               structure, focusing on consistency and meaning of the data.</textual><figure class="po-container e127 e127" xml:id="regr-2.3-3.0" xreflabel="regr-2.3-3.0"><mediaobject class="po-container e128 e128"><imageobject class="po-container e129 e129"><imagedata class="po-meta e130 e130" fileref="../../../vol5/graphics/Becker01/Becker01-003.jpg" format="jpg"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></imagedata></imageobject></mediaobject></figure></para><section class="po-hcontainer e131 e131"><title class="po-block e132 e132"><textual class="po-textual">Essence XML Extractor Style Sheet</textual></title><para class="po-block e133 e133"><textual class="po-textual">Each </textual><emphasis class="po-inline e134 e134" role="ital"><textual class="po-textual">Essence Test</textual></emphasis><textual class="po-textual"> is placed inside a literal
                  result element in the </textual><emphasis class="po-inline e135 e135" role="ital"><textual class="po-textual">Essence XML Extractor Style
                     Sheet</textual></emphasis><textual class="po-textual">. This method of identifying the essential nodes via XPath can
                  be applied to XML documents in two analogous, or two completely different DTDs. By
                  creating a list of XPaths that point to the essential nodes in the result
                  documents, we can extract the </textual><emphasis class="po-inline e136 e136" role="ital"><textual class="po-textual">Essence</textual></emphasis><textual class="po-textual"> from both
                  the (test) NXML and from the quality assured production (control) NXML, using
                  these extracted documents as a basis for comparison.</textual><figure class="po-container e137 e137" xml:id="regr-ess-extractor" xreflabel="regr-ess-extractor"><mediaobject class="po-container e138 e138"><imageobject class="po-container e139 e139"><imagedata class="po-meta e140 e140" fileref="../../../vol5/graphics/Becker01/Becker01-004.jpg" format="jpg"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></imagedata></imageobject></mediaobject></figure></para></section></section><section class="po-hcontainer e141 e141"><title class="po-block e142 e142"><textual class="po-textual">Essence Testing Work flow</textual></title><para class="po-block e143 e143"><textual class="po-textual">The Essence testing process is aimed at creating two Essence XML documents that
               can be compared to expose anomalies resulting from changes to the "Modified Local"
               XSLT. We start with the publisher XML file (source). Using the production XSLT(shown
               in green), a production NXML (gray) is converted, to be used as the control instance.
               Quality assurance on these documents is handled by the PMC data group. They report
               variations in rendering and processing, and verify that content is acceptable based
               on a set of approximately 90 quality checks. A test NXML instance is also created by
               applying the user's "Modified Local" XSLT style sheet (shown in purple) to the
               original source XML.</textual><figure class="po-container e144 e144" xml:id="regr-ess-wkflw" xreflabel="regr-ess-wkflw"><mediaobject class="po-container e145 e145"><imageobject class="po-container e146 e146"><imagedata class="po-meta e147 e147" fileref="../../../vol5/graphics/Becker01/Becker01-005.jpg" format="jpg"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></imagedata></imageobject></mediaobject></figure></para></section><section class="po-hcontainer e148 e148"><title class="po-block e149 e149"><textual class="po-textual">Comparing Essence XML Documents</textual></title><para class="po-block e150 e150"><textual class="po-textual">As mentioned earlier, the </textual><emphasis class="po-inline e151 e151" role="ital"><textual class="po-textual">Essence XML Extractor
                  XSLT</textual></emphasis><textual class="po-textual"> is used to extract the </textual><emphasis class="po-inline e152 e152" role="ital"><textual class="po-textual">Essence</textual></emphasis><textual class="po-textual"> of
               both the test and control instances, creating a Test Essence XML and a Control
               Essence XML. These two documents are compared element-by-element, and any differences
               in structure or content are aggregated into a report.</textual></para><para class="po-block e153 e153"><emphasis class="po-inline e154 e154" role="bold"><textual class="po-textual">Example</textual></emphasis><textual class="po-textual">: Below is an example of Essence XML
               documents from an article of the journal BMC Microbiology. Note that some of the
               tests are counts, and some are string comparisons. In this particular case, while
               running a weekly regression test, I noticed that the report showed a MathML formula
               was present in the test Essence XML, but not in the control Essence XML. After some
               investigation, I found that a bug was fixed in the XSLT converter a few weeks
               previous to this Essence Test, but there were still some lingering articles that
               needed to be reconverted. Because the processing configuration was stored in our
               tracking database, I was able to easily locate and reprocess all articles affected by
               the bug, without reprocessing the entire journal data set.</textual></para><figure class="po-container e155 e155" xml:id="regr-ess-xml1" xreflabel="regr-ess-xml1"><mediaobject class="po-container e156 e156"><imageobject class="po-container e157 e157"><imagedata class="po-meta e158 e158" fileref="../../../vol5/graphics/Becker01/Becker01-006.jpg" format="jpg"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></imagedata></imageobject></mediaobject></figure><figure class="po-container e159 e159" xml:id="regr-ess-xml2" xreflabel="regr-ess-xml2"><mediaobject class="po-container e160 e160"><imageobject class="po-container e161 e161"><imagedata class="po-meta e162 e162" fileref="../../../vol5/graphics/Becker01/Becker01-007.jpg" format="jpg"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></imagedata></imageobject></mediaobject></figure></section><section class="po-hcontainer e163 e163"><title class="po-block e164 e164"><textual class="po-textual">Essence Report</textual></title><para class="po-block e165 e165"><textual class="po-textual">The Essence report summary lists the number of differences by test category in the
               red box, showing a macro view of how the changes to the "Modified Local" XSLT are
               adding up in a more general sense. For each difference detected between the test and
               the control instances, a failure is reported below, aggregated by XML instance.
               "[added (test)]" means the test case has additional information when compared to the
               Control Essence XML. "[replaced (accepted)]" followed by "[with (test)]" means that
               the test case does not match the Control Essence XML, and the test instance contains
               something additional to what was found in the test instance.</textual></para><figure class="po-container e166 e166" xml:id="regr-ess-report" xreflabel="regr-ess-report"><mediaobject class="po-container e167 e167"><imageobject class="po-container e168 e168"><imagedata class="po-meta e169 e169" fileref="../../../vol5/graphics/Becker01/Becker01-008.jpg" format="jpg"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></imagedata></imageobject></mediaobject></figure></section></section></section><section class="po-hcontainer e170 e170"><title class="po-block e171 e171"><textual class="po-textual">Results</textual></title><para class="po-block e172 e172"><textual class="po-textual">Using the </textual><emphasis class="po-inline e173 e173" role="ital"><textual class="po-textual">Essence</textual></emphasis><textual class="po-textual"> of an XML document as a basis for
         quality control is a viable solution for verifying that documents tagged in different
         versions of a schema or DTD represent the same semantic. Large data sets are time consuming
         to process, but random sampling maximizes the effects of testing, while limiting the time
         to run a given test. Controlling XSLT regression over large XML data sets is not trivial,
         and this system allows an acceptable means of monitoring the effects of those modifications
         over time.</textual></para></section><section class="po-hcontainer e174 e174"><title class="po-block e175 e175"><textual class="po-textual">Discussion</textual></title><para class="po-block e176 e176"><emphasis class="po-inline e177 e177" role="bold"><textual class="po-textual">How did we do at meeting the objectives?</textual></emphasis></para><para class="po-block e178 e178"><textual class="po-textual">The Essence Testing GUI has proven to be an effective and useful tool after several
         months in production. It ensures changes to XSLT style sheets do not have adverse effects
         on the quality of XML output. Using XPath to test the </textual><emphasis class="po-inline e179 e179" role="ital"><textual class="po-textual">Essence</textual></emphasis><textual class="po-textual"> of XML output allows comparisons between different DTD versions of
         the same article in an organized and reliable way.</textual></para><para class="po-block e180 e180"><emphasis class="po-inline e181 e181" role="bold"><textual class="po-textual">Were there implementation problems?</textual></emphasis></para><para class="po-block e182 e182"><textual class="po-textual">Processing large data sets, especially those over 100 full-text articles, takes longer
         than what we would ideally want. Converting full-text XML articles, applying the </textual><emphasis class="po-inline e183 e183" role="ital"><textual class="po-textual">Essence</textual></emphasis><textual class="po-textual"> transformation, then comparing the output of those
         processes could be handled more efficiently with a modular, object oriented approach,
         involving several parallel processes converting XML simultaneously.</textual></para><para class="po-block e184 e184"><emphasis class="po-inline e185 e185" role="bold"><textual class="po-textual">What future directions might the project take?</textual></emphasis></para><para class="po-block e186 e186"><textual class="po-textual">The configuration of this tool is specific to PubMed Central's data directory structures
         and database models. Modularizing the code for a more generic software API could be a
         direction for future improvement.</textual></para><para class="po-block e187 e187"><emphasis class="po-inline e188 e188" role="bold"><textual class="po-textual">What are the greatest benefits of this system?</textual></emphasis></para><para class="po-block e189 e189"><textual class="po-textual">When an XSLT bug was found in the past, large portions of the entire XML data set would
         have been reconverted to fix it. Tracking the processing model information for each XML
         article instance significantly reduces the reprocessing overhead associated with such bugs,
         and allows more specificity when identifying affected articles. Negative impacts on NXML
         output due to changes in the XSLT style sheets have been significantly reduced. Automatic
         weekly regression tests continually reinforce the quality and integrity of the data stored
         in our system.</textual></para></section><section class="po-hcontainer e190 e190"><title class="po-block e191 e191"><textual class="po-textual">Acknowledgements</textual></title><para class="po-block e192 e192"><textual class="po-textual">Jeff Beck, Sergey Krasnov, Vladimir Sarkisov, Andrei Kolotev, Anh Nguyen, and Laura
         Kelly provided a great deal of guidance in the design of this project. Their input, as
         always, has proven to be wise, insightful, and is very much appreciated. The comparison and
         reporting segment of the system was written by Jane Rall and Byungsoo Kim. This research
         was supported by the Intramural Research Program of the NIH, National Library of
         Medicine.</textual></para></section><bibliography class="po-hcontainer e193 e193"><title class="po-block e194 e194"><textual class="po-textual">Bibliography</textual></title><bibliomixed class="po-block e195 e195" xml:id="bio1" xreflabel="Beaulieu2005"><textual class="po-textual">Beaulieu, Alan, Learning SQL. Sebastopol,
         California: O'Reilly Media, Inc.; 2005</textual></bibliomixed><bibliomixed class="po-block e196 e196" xml:id="bio5" xreflabel="Guelich2000"><textual class="po-textual">Guelich, Scott; Gundacaram, Shishir;
         Birznieks, Gunther CGI Programming with Perl, Second Edition. Sebastopol, California:
         O'Reilly &amp; Associates, Inc.; 2000</textual></bibliomixed><bibliomixed class="po-block e197 e197" xml:id="bio2" xreflabel="Kay2008"><textual class="po-textual">Kay, Michael XSLT 2.0 and XPath 2.0
         Programmer's Reference, 4th Edition. Indianapolis, Indiana: Wiley Publishing, Inc.;
         2008</textual></bibliomixed><bibliomixed class="po-block e198 e198" xml:id="bio6" xreflabel="Meltzer2001"><textual class="po-textual">Meltzer, Kevin; Michalski Writing CGI
         applications with Perl. Upper Saddle River, New Jersey: Pearson Education;
         2001</textual></bibliomixed><bibliomixed class="po-block e199 e199" xml:id="bio4" xreflabel="Robbins2005"><textual class="po-textual">Robbins, Arnold; Beebe, Nelson H.F. Classic
         Shell Scripting. Sebastopol, California: O'Reilly Media, Inc.; 2005</textual></bibliomixed><bibliomixed class="po-block e200 e200" xml:id="bio3" xreflabel="Wall2000"><textual class="po-textual">Wall, Larry; Christiansen, Tom; Orwant, Jon
         Programming Perl, Third Edition. Sebastopol, California: O'Reilly &amp; Associates,
         Inc.; 2000</textual></bibliomixed></bibliography></article></classedDocument>