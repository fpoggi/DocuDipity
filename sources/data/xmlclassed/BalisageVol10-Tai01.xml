<?xml version="1.0" encoding="UTF-8" standalone="no"?><classedDocument><article xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="po-hcontainer e0 e0" version="5.0-subset Balisage-1.3"><title class="po-block e1 e1"><textual class="po-textual">WebVTT versus TTML: XML considered harmful for web captions?</textual></title><info class="po-record e2 e2"><confgroup class="po-record e3 e3"><conftitle class="po-field e4 e4"><textual class="po-textual">Balisage: The Markup Conference 2013</textual></conftitle><confdates class="po-field e5 e5"><textual class="po-textual">August 6 - 9, 2013</textual></confdates></confgroup><abstract class="po-container e6 e6"><para class="po-block e7 e7"><textual class="po-textual">This paper investigates why the XML standard TTML was rejected as timed text format by the WHATWG and it shows the relation to the discussion about the use of XML on the web.</textual></para></abstract><author class="po-record e8 e8"><personname class="po-record e9 e9"><firstname class="po-field e10 e10"><textual class="po-textual">Andreas</textual></firstname><surname class="po-field e11 e11"><textual class="po-textual">Tai</textual></surname></personname><personblurb class="po-container e12 e12"><para class="po-block e13 e13"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></para></personblurb><affiliation class="po-record e14 e14"><orgname class="po-block e15 e15"><textual class="po-textual">Institut fuer Rundfunktechnik, Munich</textual></orgname></affiliation></author><legalnotice class="po-container e16 e16"><para class="po-block e17 e17"><textual class="po-textual">Copyright © 2013 Institut fuer Rundfunktechnik GmbH</textual></para></legalnotice></info><section class="po-hcontainer e18 e18" xml:id="sec.Introduction"><title class="po-block e19 e19"><textual class="po-textual">Introduction</textual></title><para class="po-block e20 e20"><textual class="po-textual">In 2010 the WHATWG mailing list discussed which existing timed text format should be used as a base to distribute timed text with the newly defined track element in HTML5 [</textual><xref class="po-milestone e21 e21" linkend="PfeifIntro2010"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">]. The most important use case for timed text was the display of captions and subtitles with a related video.</textual><footnote class="po-popup e22 e22"><para class="po-block e23 e23"><textual class="po-textual">The term “captions” describes on screen text for use by deaf and hard of hearing audiences. The term “subtitles” describes on screen text for translation purposes. For easier reading only the term “subtitles” is used in this article and the term "captions” may be used interchangeably for the term “subtitles".</textual></para></footnote><textual class="po-textual">
		</textual></para><para class="po-block e24 e24"><textual class="po-textual">In the end not the existing XML standard for timed text, TTML [</textual><xref class="po-milestone e25 e25" linkend="TTMLCandidate2010"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">] (formerly specified as DFXP) was chosen, but SRT, a text-based format for subtitles that originated from the web user community and had been implemented already in a large range of video players [</textual><xref class="po-milestone e26 e26" linkend="HickVideo2010"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">]. After the adoption of SRT by the WHATWG the timed text format was first called WebSRT and later renamed to WebVTT.</textual></para><para class="po-block e27 e27"><textual class="po-textual">The arguments exchanged in mailing threads were not limited to timed text and the domain of subtitling. The decision against TTML also was a decision against XML and other standards from the XML-family.</textual></para><para class="po-block e28 e28"><textual class="po-textual">The importance of having a new timed text format is driven by the large increase of video content distribution over IP-based networks. The demand for subtitles to show with that video is rising as well. In some regions provisioning of subtitles with online content even is an obligation from the regulator (see for example [</textual><xref class="po-milestone e29 e29" linkend="FCC2012"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">]).</textual></para><para class="po-block e30 e30"><textual class="po-textual">Left aside proprietary formats, for the distribution of subtitles on the web the TTML and the WebVTT standards currently are receiving the biggest attention from the market. The competition of these two standards follows a pattern which is similar to the one seen with the adoption of XML for the web. More than a competition between different technologies, it appears to be a clash of the ‘web culture’ with the ‘XML culture’. The unresolved problems in this relationship could have a blocking effect on the progress of IP-based delivery of subtitles and on web-accessibility in general.</textual></para></section><section class="po-hcontainer e31 e31" xml:id="sec.TTML"><title class="po-block e32 e32"><textual class="po-textual">TTML</textual></title><para class="po-block e33 e33"><textual class="po-textual">In 2003 the W3C set up a working group to specify a timed text markup language [</textual><xref class="po-milestone e34 e34" linkend="W3CTTCharta2003"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">]. According to the requirements, which were laid out already in 2002 [</textual><xref class="po-milestone e35 e35" linkend="W3CTT2002"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">], the goal was to define a non-proprietary, standardized format that could be used for displaying text synchronized with other elements such as audio and video.</textual></para><para class="po-block e36 e36"><textual class="po-textual">In the requirements use cases such as karaoke, credit rolls and text overlays were listed next to the main use case: the display of subtitles. One of the top priorities for the targeted architecture was to have an XML representation of the format.</textual></para><para class="po-block e37 e37"><textual class="po-textual">Members of the working group represented, amongst others, a broadcaster, a professional engineering association from the moving picture industry, a research institution on accessible media and vendors of existing video players for the web. TTML was published as a detailed standard in November 2010 as Timed Text Markup Language (TTML) 1.0 [</textual><xref class="po-milestone e38 e38" linkend="TTMLFinal2010"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">].</textual></para><para class="po-block e39 e39"><textual class="po-textual">A simple TTML example illustrates the expression of a two line subtitle:</textual><footnote class="po-popup e40 e40" xml:id="footTTMLSamp"><para class="po-block e41 e41"><textual class="po-textual">Complete TTML and WebVTT documents can be found in </textual><xref class="po-milestone e42 e42" linkend="app.A"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">. Note that examples in this article shall only illustrate the design principles of the different standards. They do not always reflect the complete syntax. For implementation the relevant standards shall be consulted.</textual></para></footnote><textual class="po-textual">
		</textual></para><programlisting class="po-block e43 e43" xml:space="preserve"><textual class="po-textual">
&lt;p begin="00:00:00.000" end="00:00:02.000"&gt;
    This is a subtitle&lt;br/&gt;
    on two lines
&lt;/p&gt;
		</textual></programlisting><para class="po-block e44 e44"><textual class="po-textual">In the TTML presentation semantics a </textual><code class="po-atom e45 e45"><textual class="po-textual">p</textual></code><textual class="po-textual"> element represents a block level element and the </textual><code class="po-atom e46 e46"><textual class="po-textual">br</textual></code><textual class="po-textual"> element inserts a line break. The </textual><code class="po-atom e47 e47"><textual class="po-textual">begin</textual></code><textual class="po-textual"> and </textual><code class="po-atom e48 e48"><textual class="po-textual">end</textual></code><textual class="po-textual"> attributes specify the timecodes between which the subtitle should be shown.</textual></para><para class="po-block e49 e49"><textual class="po-textual">As for other local names of TTML elements that represent subtitle content </textual><code class="po-atom e50 e50"><textual class="po-textual">p</textual></code><textual class="po-textual"> and </textual><code class="po-atom e51 e51"><textual class="po-textual">br</textual></code><textual class="po-textual"> are derived from  (X)HTML.</textual><footnote class="po-popup e52 e52"><para class="po-block e53 e53"><textual class="po-textual">See Appendix J1 of [</textual><xref class="po-milestone e54 e54" linkend="TTMLCandidate2010"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">]</textual></para></footnote><textual class="po-textual"> And although they are defined in a different namespace, their semantics are similar. </textual></para><para class="po-block e55 e55"><textual class="po-textual">TTML uses a subset of the XML Infoset to formalize the data model.</textual><footnote class="po-popup e56 e56"><para class="po-block e57 e57"><textual class="po-textual">See Appendix A of [</textual><xref class="po-milestone e58 e58" linkend="TTMLCandidate2010"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">]</textual></para></footnote><textual class="po-textual">
		</textual></para><para class="po-block e59 e59"><textual class="po-textual">A reduced notation of the </textual><code class="po-atom e60 e60"><textual class="po-textual">p</textual></code><textual class="po-textual"> information element would be:</textual><footnote class="po-popup e61 e61"><para class="po-block e62 e62"><textual class="po-textual">The type </textual><code class="po-atom e63 e63"><textual class="po-textual">&lt;timeExpression&gt;</textual></code><textual class="po-textual"> is defined in section 10.3.1 of  [</textual><xref class="po-milestone e64 e64" linkend="TTMLCandidate2010"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">]</textual></para></footnote><textual class="po-textual">
		</textual></para><programlisting class="po-block e65 e65" xml:space="preserve"><textual class="po-textual">
&lt;p&gt;
    begin = &lt;timeExpression&gt;
    end = &lt;timeExpression&gt;
    Content: (#PCDATA | br )*
&lt;/p&gt;		
		</textual></programlisting></section><section class="po-hcontainer e66 e66" xml:id="sec.Webvtt"><title class="po-block e67 e67"><textual class="po-textual">WebVTT</textual></title><para class="po-block e68 e68"><textual class="po-textual">In 2004 a group of W3C members decided to split off from the W3C HTML specification and to push HTML outside of, but in close collaboration with the W3C. The Web Hypertext Application Technology Working Group (WHATWG) was set up with the goal to “create technical specifications that are intended for implementation in mass-market web browsers, in particular Safari, Mozilla, and Opera” [</textual><xref class="po-milestone e69 e69" linkend="WHATList2004"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">].</textual></para><para class="po-block e70 e70"><textual class="po-textual">Although WebVTT is currently specified by the W3C Web Media Text Tracks Community Group [</textual><xref class="po-milestone e71 e71" linkend="W3CWebvtt2013"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">], the decision to use SRT as its base had been taken by the WHATWG and the initial specification has been written with Ian Hickson as responsible editor. Priorities for the choice of a timed text format included: simplicity, compatibility with existing players and integration into the HMTL5 specification effort [</textual><xref class="po-milestone e72 e72" linkend="HickVideo2010"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">].</textual></para><para class="po-block e73 e73"><textual class="po-textual">
A simple two line subtitle would be expressed in WebVTT as a text cue:</textual></para><programlisting class="po-block e74 e74" xml:space="preserve"><textual class="po-textual">
00:00:00.000 --&gt; 00:00:02.000
This is a subtitle
on two lines
		</textual></programlisting><para class="po-block e75 e75"><textual class="po-textual">
The delimiter for begin and end timecodes is the string “--&gt;”. A character sequence representing a newline (LF, CR or CRLF) separates the timing information from subtitle text and breaks a subtitle text line.</textual><footnote class="po-popup e76 e76"><para class="po-block e77 e77"><textual class="po-textual">The syntax in the sample is equivalent to what was already defined in SRT, the base format of WebVTT.</textual></para></footnote><textual class="po-textual">
		</textual></para><para class="po-block e78 e78"><textual class="po-textual">WebVTT does not use a formal grammar to describe the syntax but a sequence of rules written in normative prose. A reduced definition of the text cue shown in the example would be:</textual></para><programlisting class="po-block e79 e79" xml:space="preserve"><textual class="po-textual">
A WebVTT timestamp representing the start time offset of the cue.
The string "--&gt;" (U+002D HYPHEN-MINUS, U+002D HYPHEN-MINUS, U+003E GREATER-THAN SIGN).
A WebVTT timestamp representing the end time offset of the cue.
A WebVTT line terminator
Zero or more WebVTT cue text span, representing the text of the cue each optionally separated from the next by a WebVTT line terminator.
	</textual></programlisting></section><section class="po-hcontainer e80 e80" xml:id="sec.Established"><title class="po-block e81 e81"><textual class="po-textual">Established industries versus emerging user communities</textual></title><para class="po-block e82 e82"><textual class="po-textual">While XML has been well received and is used in established industries, it has at least a disputable role on the web. The most prominent areas of debate are the draconian error handling implemented by XHMTL supporting web browsers ( see [</textual><xref class="po-milestone e83 e83" linkend="KestXML2012"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">, </textual><xref class="po-milestone e84 e84" linkend="W3CWiki2010"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">]) and the growing suppression of XML through JSON as an interchange format for data on the web (see [</textual><xref class="po-milestone e85 e85" linkend="CrockJson2006"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">, </textual><xref class="po-milestone e86 e86" linkend="VlistJson2013"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">]).</textual></para><para class="po-block e87 e87"><textual class="po-textual">Similar to these debates the origin of the recent failure of TTML to be adopted by HTML5 can be found in the separation of user communities.</textual></para><para class="po-block e88 e88"><textual class="po-textual">At the same time when the WHATWG decided against TTML, other standardization committees from the broadcast and movie domain adopted and promoted TTML as format for subtitles. The Society of Motion Picture (SMPTE) extended TTML to  SMPTE-TT [</textual><xref class="po-milestone e89 e89" linkend="SMPTETimedText2010"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">], YouView defined a profile of TTML for delivery to interactive TV sets and set-top boxes in the UK [</textual><xref class="po-milestone e90 e90" linkend="Youview2011"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">], the Digital Entertainment Content Ecosystem  consortium (DECE) defined a TTML profile for the common file format (CFF-TT) [</textual><xref class="po-milestone e91 e91" linkend="DECECff2013"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">] and the EBU published the TTML subset EBU-TT [</textual><xref class="po-milestone e92 e92" linkend="EBUTT2012"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">] for the interchange, archiving and production of subtitles.</textual></para><para class="po-block e93 e93"><textual class="po-textual">
The adoption of TTML by the European Broadcasting Union (EBU) is a good example of why an XML standard was chosen by the different standardization initiatives. The EBU was looking for a successor of the binary subtitle format EBU STL [</textual><xref class="po-milestone e94 e94" linkend="EBUSTL1991"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">] and the TTML standard met the requirements for a reference standard. It was expressive enough to cover the desired semantics and at the same time it had the option to be constrained. Furthermore the XML standard has a well-documented Unicode support (something missing in the binary EBU STL format) and is ideally suited to implement the “Create once, publish everywhere” strategy. While the translation process of spoken text into subtitles still requires a large amount of manual work, the deployment of subtitles in different subtitle formats for linear and non-linear TV is only practically feasible when it is automated. 	
		</textual></para><para class="po-block e95 e95"><textual class="po-textual">Similar to other professional sectors with a highly automated production process the broadcast industry depends on reliable and stable standards to guarantee the quality of their services. The benefit of a formal standard that uses XML as an established technology in this context outbalances the extra effort to implement its potential complexities.</textual></para><para class="po-block e96 e96"><textual class="po-textual">The web environment however, is home to a deeply-rooted “everybody can do it” philosophy. Anyone can and should be able to be a sender. The belief that it should be easy to publish and to distribute content without high investments is shared with the open source movement. From this point of view the hurdle to apply an XML standard is high (especially if it references other XML standards). Implementation may require an academic background or special training. Furthermore free and user friendly authoring tools for XML are rare. Therefore the WHATWG preferred a subtitle format with an easier to understand notation that could be used with a simple text editor.</textual></para><para class="po-block e97 e97"><textual class="po-textual">Another difference to the TTML use case is, that WebVTT is designed to only serve as a web distribution format for subtitles. There is no ambition for it to be used as an intermediary format. And although later in the specification process documents and extensions were published to support the translation from existing US broadcast standards into WebVTT[</textual><xref class="po-milestone e98 e98" linkend="PfeifIntro2012"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">], support for legacy formats had not been a requirement from the beginning.</textual></para></section><section class="po-hcontainer e99 e99" xml:id="sec.Quality"><title class="po-block e100 e100"><textual class="po-textual">Quality control versus non-draconian error handling</textual></title><para class="po-block e101 e101"><textual class="po-textual">The XML specification, together with grammar-based or rule-based constraining languages such as W3C XML Schema 1.0, Relax NG or Schematron, forms a framework to test information which is exchanged between applications and/or organizations for standard conformance. In highly professionalized sectors such as the broadcast industry this support for QC processes is well-appreciated and used.</textual></para><para class="po-block e102 e102"><textual class="po-textual">Paradoxically the strictness of the XML specification in guaranteeing ‘well-formedness’ could be seen as a reason for its bad reputation in the web developer community. The behaviour of some web browsers which do not recover gracefully from ill-formed errors in XHTML documents but instead interrupt the rendering process has resulted in distracting user experiences (see [</textual><xref class="po-milestone e103 e103" linkend="TantekDrac2010"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">, </textual><xref class="po-milestone e104 e104" linkend="BovensXML2011"><textual class="po-textual">Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao Pippo! Ciao</textual></xref><textual class="po-textual">]). The return of the HTML5 spec to a more "forgiving" parser behavior can be seen as a direct result of these problems.</textual></para><para class="po-block e105 e105"><textual class="po-textual">The strictness of XML was one reason for the decision against TTML on the WHATWG mailing list. Well-formedness errors and namespace problems were marked as potential problems for authors. As in general discussions related to "XML in the browser", the expectation was that amateur developers will want to provide content and therefore the format has to be kept simple.</textual></para><para class="po-block e106 e106"><textual class="po-textual">For professional content providers, including broadcasting stations, automated QC is becoming increasingly important. A strict format such as TTML therefore is preferred both at the production side, and as well for distribution. It gives broadcast stations the means to guarantee the quality of their online-services and to live up to the expectation of their audience. Note that the reputation of most broadcasters has been established not through the web, but rather by the use of high-quality broadcast standards.</textual></para><para class="po-block e107 e107"><textual class="po-textual">TTML and WebVTT provide different options to handle document conformance. TTML provides an informative W3C XML Schema and Relax NG Schema to support automatic document validation while WebVTT integrates conformance testing and error handling in a normative text parsing algorithm.</textual></para><para class="po-block e108 e108"><textual class="po-textual">A good illustration for the different concepts is the specification of text alignment.</textual></para><para class="po-block e109 e109"><textual class="po-textual">In TTML text alignment of subtitle text can be expressed through the attribute </textual><code class="po-atom e110 e110"><textual class="po-textual">textAlign</textual></code><textual class="po-textual">:</textual></para><programlisting class="po-block e111 e111" xml:space="preserve"><textual class="po-textual">
&lt;p begin="00:00:00.000" end="00:00:02.000" tts:textAlign="left" &gt;
    One line aligned to the left.
&lt;/p&gt;		
		</textual></programlisting><para class="po-block e112 e112"><textual class="po-textual">A simplified type definition of the </textual><code class="po-atom e113 e113"><textual class="po-textual">tts:textAlign</textual></code><textual class="po-textual"> attribute in the TTML XML Schema is shown below:</textual></para><programlisting class="po-block e114 e114" xml:space="preserve"><textual class="po-textual">
&lt;xs:attribute name="textAlign"&gt;
    &lt;xs:simpleType&gt;
	    &lt;xs:restriction base="xs:token"&gt;
		    &lt;xs:enumeration value="start"/&gt;
		    &lt;xs:enumeration value="end"/&gt;
		    &lt;xs:enumeration value="left"/&gt;  
		    &lt;xs:enumeration value="center"/&gt;
		    &lt;xs:enumeration value="right"/&gt;	    
        &lt;/xs:restriction&gt;
    &lt;/xs:simpleType&gt;
  &lt;/xs:attribute&gt;
		</textual></programlisting><para class="po-block e115 e115"><textual class="po-textual">
The validation of a TTML document where the </textual><code class="po-atom e116 e116"><textual class="po-textual">textAlign</textual></code><textual class="po-textual"> attribute contains another value than "start", "end", "left", "center" or "right" would fail. Depending of the implementation a TTML decoder could stop further processing of the document or continue parsing but reject the document at the end because the conformance test was negative.
		</textual></para><para class="po-block e117 e117"><textual class="po-textual">In WebVTT text alignment can be controlled by the </textual><code class="po-atom e118 e118"><textual class="po-textual">alignment</textual></code><textual class="po-textual"> cue setting:</textual></para><programlisting class="po-block e119 e119" xml:space="preserve"><textual class="po-textual">
00:00:00.000 --&gt; 00:00:02.000 align:left
One line aligned to the left.		
		</textual></programlisting><para class="po-block e120 e120"><textual class="po-textual">
There are two sources for document conformance tests in the WebVTT spec: the syntax definition and the parsing algorithm. The syntax definition is intended as authoring instruction, while the parsing algorithm is a guideline for the implementation of WebVTT decoders.</textual></para><para class="po-block e121 e121"><textual class="po-textual">The syntax for the </textual><code class="po-atom e122 e122"><textual class="po-textual">alignment</textual></code><textual class="po-textual"> cue setting is as follows:</textual></para><programlisting class="po-block e123 e123" xml:space="preserve"><textual class="po-textual">
WebVTT vertical text cue setting consists of the following components, in the order given:
    The string "align".
    A U+003A COLON character (:).
    One of the following strings: "start", "middle", "end", "left", "right".
</textual></programlisting><para class="po-block e124 e124"><textual class="po-textual">The setting should be parsed as shown below:</textual></para><programlisting class="po-block e125 e125" xml:space="preserve"><textual class="po-textual">
Let name be the leading substring of setting up to and excluding the first U+003A COLON character (:) in that string.

Let value be the trailing substring of setting starting from the character immediately after the first U+003A COLON character (:) in that string.

Run the appropriate substeps that apply for the value of name, as follows:

If name is a case-sensitive match for "align"

        If value is a case-sensitive match for the string "start", then let cue's text track cue alignment be start alignment.
        If value is a case-sensitive match for the string "middle", then let cue's text track cue alignment be middle alignment.
        If value is a case-sensitive match for the string "end", then let cue's text track cue alignment be end alignment.
        If value is a case-sensitive match for the string "left", then let cue's text track cue alignment be left alignment.
        If value is a case-sensitive match for the string "right", then let cue's text track cue alignment be right alignment.

</textual></programlisting><para class="po-block e126 e126"><textual class="po-textual">Following the WebVTT text parsing algorithm the setting will simply be ignored if a value is not defined. The parsing of the document continues and the writing direction of the text cue will not be changed.</textual></para><para class="po-block e127 e127"><textual class="po-textual">There is no recommendation if and how this error should be signaled.</textual></para></section><section class="po-hcontainer e128 e128" xml:id="sec.Simple"><title class="po-block e129 e129"><textual class="po-textual">Don´t reinvent the wheel versus keep it simple</textual></title><para class="po-block e130 e130"><textual class="po-textual">One principle in standardization is not to reinvent the wheel. If a required functionality has been defined elsewhere, it would be appropriate to reference it. Often a compromise is necessary because not all requirements are covered by existing standards and also because it is sometimes neither easy nor desirable to extend them. This compromise typically is acceptable for the goals of technology dissemination and future interoperability between systems.</textual></para><para class="po-block e131 e131"><textual class="po-textual">The XML ecosystem makes use of this principle and there are a lot of cross references between the different core standards of the ‘XML family’, such as XPATH, W3C XML Schema and XSLT.</textual></para><para class="po-block e132 e132"><textual class="po-textual">From the start the Timed Text Working Group (TTWG) has had the requirement to use existing W3C technologies. This has been implemented by the integration of SMIL as the semantic reference for the timing model and by the integration of XSL:FO for the semantics of the formatting model.</textual></para><para class="po-block e133 e133"><textual class="po-textual">In the ‘WHATWG versus TTML’-debate, especially the reference to XSL:FO and the claimed incompatibility between XSL:FO and CSS have been important arguments. Furthermore the re-use of TTML was blocked by critical comments about the use of XML. In this sense the re-use of standards actually let to the rejection to be used by another standard (!).</textual></para><para class="po-block e134 e134"><textual class="po-textual">Although WebVTT also makes uses of other standards and has the design goal to integrate well with HTML5  and CSS, it also duplicates the functionality of TTML without making a reference to this existing standard.</textual></para></section><section class="po-hcontainer e135 e135" xml:id="sec.Readability"><title class="po-block e136 e136"><textual class="po-textual">Readability: curse or blessing?</textual></title><para class="po-block e137 e137"><textual class="po-textual">When comparing the advantages of WebVTT and SRT versus TTML readability is often highlighted as a difference. The construction principle of simple WebVTT/SRT files seems easy to understand, while a TTML document which expresses the same semantics appears to be more verbose and opaque, especially to a reader who is not familiar with XML.</textual></para><para class="po-block e138 e138"><textual class="po-textual">While comprehensibility of a format by reading it may be important when the manual creation of conformant documents is an important option, the ease of parsing and implementation is crucial for automated processing.</textual></para><para class="po-block e139 e139"><textual class="po-textual">The readability argument leads back to the differences in requirements between established industries and emerging user communities, but in any case it seems more relevant for the creation than for the interpretation of a format. While a document with subtitles can be directly created by a human being, the decoding and rendering of the document will always be done by an automated process. It is therefore questionable how the complexity of a format can be judged by taking human readability as the criterion.</textual></para><para class="po-block e140 e140"><textual class="po-textual">As a side note it should be mentioned that in Europe the binary (so not human-readable at all!) EBU-STL format is highly trusted as an exchange format for subtitles. Actually, some concerns exist regarding its replacement with a human readable XML format! It would be an interesting field of investigation if under special circumstances an opaque format is more likely to gain trust and therefore adoption than a transparent format like XML.</textual></para></section><section class="po-hcontainer e141 e141"><title class="po-block e142 e142"><textual class="po-textual">Conclusion</textual></title><para class="po-block e143 e143"><textual class="po-textual">Besides the technical and semantic differences between TTML and WebVTT, the sheer existence of two standards with duplicated functionality lowers the speed of adoption, blocks specification processes and in the long run affects interoperability between systems.</textual></para><para class="po-block e144 e144"><textual class="po-textual">Although it not likely that the two formats will be merged, the efforts to combine both activities in one W3C working group can be seen as a promising step. This nevertheless leaves one problem still unresolved: the divergence between the XML and the web world. These two worlds should not only meet at conferences, but they should be represented in the same standard committees. That could improve the interoperability perspective for new standards right from the beginning.</textual></para></section><appendix class="po-hcontainer e145 e145" xml:id="app.A"><title class="po-block e146 e146"><textual class="po-textual">TTML and WebVTT document samples</textual></title><para class="po-block e147 e147"><textual class="po-textual">Two short but complete examples for TTML and WebVTT are documented below. Both documents represent the same formatting semantics for a timed, two-line subtitle:
				</textual><itemizedlist class="po-table e148 e148"><listitem class="po-container e149 e149"><para class="po-block e150 e150"><textual class="po-textual">The virtual box for the subtitle is 80% of the video frame width.</textual></para></listitem><listitem class="po-container e151 e151"><para class="po-block e152 e152"><textual class="po-textual">The virtual box of the subtitle has a 10% offset to the left edge of the video frame.</textual></para></listitem><listitem class="po-container e153 e153"><para class="po-block e154 e154"><textual class="po-textual">The subtitle text is centered.</textual></para></listitem><listitem class="po-container e155 e155"><para class="po-block e156 e156"><textual class="po-textual">The subtitle has an identifier with the value "sub1".</textual></para></listitem><listitem class="po-container e157 e157"><para class="po-block e158 e158"><textual class="po-textual">A color of green is applied to one word by the use of an inline-style.</textual></para></listitem><listitem class="po-container e159 e159"><para class="po-block e160 e160"><textual class="po-textual">An italic typeface is applied to one word by the use of a referenced style definition.</textual></para></listitem><listitem class="po-container e161 e161"><para class="po-block e162 e162"><textual class="po-textual">The vertical position is in the lower third of the video frame.</textual><footnote class="po-popup e163 e163"><para class="po-block e164 e164"><textual class="po-textual">Because of different positioning concepts the represented vertical position is only approximately the same.</textual></para></footnote><textual class="po-textual">
					</textual></para></listitem></itemizedlist><textual class="po-textual">
		</textual></para><para class="po-block e165 e165"><textual class="po-textual">The representation in TTML would be:</textual></para><programlisting class="po-block e166 e166" xml:space="preserve"><textual class="po-textual">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;tt xml:lang="en" xmlns="http://www.w3.org/ns/ttml" xmlns:tts="http://www.w3.org/ns/ttml#styling" xmlns:tt="http://www.w3.org/ns/ttml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;head&gt;
        &lt;styling&gt;
            &lt;tt:style xml:id="s1" tts:color="green"/&gt;
        &lt;/styling&gt;
        &lt;layout&gt;
            &lt;tt:region tts:extent="80% 80%" tts:origin="10% 10%" tts:displayAlign="after"/&gt;
        &lt;/layout&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div&gt;
            &lt;p xml:id="sub1" begin="00:00:00.000" end="00:00:02.000"&gt;
                This is a green &lt;span style="s1"&gt;word.&lt;/span&gt;.&lt;br/&gt;
                This is an italic &lt;span tts:fontStyle="italic"&gt;word&lt;/span&gt;.
            &lt;/p&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/tt&gt;
 </textual></programlisting><para class="po-block e167 e167"><textual class="po-textual">The representation in WebVTT would be:</textual></para><programlisting class="po-block e168 e168" xml:space="preserve"><textual class="po-textual">
WEBVTT
Style:
@import(foo.css)
##
Language: en

sub1
00:00:00.000 --&gt; 00:00:02.000 size:80% position:10% line:70% align:middle 
This is a green &lt;c.s1&gt;word&lt;/c&gt;.
This is an italic &lt;i&gt;word&lt;/i&gt;.
</textual></programlisting><para class="po-block e169 e169"><textual class="po-textual">WebVTT has the option to use CSS style sheet definitions. Currently these definitions are not embedded in the WebVTT document. In the example they are included in the WebVTT file by the use of the @import rule.</textual></para><para class="po-block e170 e170"><textual class="po-textual">The content of the imported file in the example would be as follows:</textual></para><programlisting class="po-block e171 e171" xml:space="preserve"><textual class="po-textual">
::cue(c.s1) {
  color: green;
}
</textual></programlisting></appendix><bibliography class="po-hcontainer e172 e172"><title class="po-block e173 e173"><textual class="po-textual">References</textual></title><bibliomixed class="po-block e174 e174" xml:id="BovensXML2011" xreflabel="B11"><textual class="po-textual">Bovens, Andreas, No more "XML parsing failed" errors, 28 September 2011.
		 </textual><link class="po-inline e175 e175" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">http://my.opera.com/ODIN/blog/2011/09/28/no-more-xml-parsing-failed-errors</textual></link><textual class="po-textual">
		</textual></bibliomixed><bibliomixed class="po-block e176 e176" xml:id="TantekDrac2010" xreflabel="TA10"><textual class="po-textual">Çelik, Tantek, XHTML Is Dead, Long Live XML-Valid HTML5, 29 October 2010.
		</textual><link class="po-inline e177 e177" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">http://tantek.com/2010/302/b1/xhtml-dead-long-live-xml-valid-html5</textual></link><textual class="po-textual">
		</textual></bibliomixed><bibliomixed class="po-block e178 e178" xml:id="CrockJson2006" xreflabel="D06"><textual class="po-textual">Crockford, Douglas, JSON: The Fat-Free Alternative to XML, XML 2006 Boston, 6 December 2010.
		</textual><link class="po-inline e179 e179" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">http://www.json.org/fatfree.html</textual></link><textual class="po-textual">
		</textual></bibliomixed><bibliomixed class="po-block e180 e180" xml:id="DECECff2013" xreflabel="D12"><textual class="po-textual">Digital Entertainment Content Ecosystem (DECE) LLC, Common File Format &amp; Media Formats Specification, Version 1.0.6, 23 February 2013.
		</textual><link class="po-inline e181 e181" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">http://www.uvvuwiki.com/images/f/f6/CFFMediaFormat-C1.0.6.pdf</textual></link><textual class="po-textual">
		</textual></bibliomixed><bibliomixed class="po-block e182 e182" xml:id="EBUSTL1991" xreflabel="E13"><textual class="po-textual">European Broadcasting Union (EBU), EBU Tech 3264, Specification of the EBU Subtitling data exchange format, February 1991.
		 </textual><link class="po-inline e183 e183" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">http://tech.ebu.ch/docs/tech/tech3264.pdf</textual></link><textual class="po-textual">
		</textual></bibliomixed><bibliomixed class="po-block e184 e184" xml:id="EBUTT2012" xreflabel="E12"><textual class="po-textual">European Broadcasting Union (EBU), EBU Tech 3350, EBU-TT Part 1 Subtitling format definition, Version 1.0, July 2012.
		 </textual><link class="po-inline e185 e185" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">http://tech.ebu.ch/docs/tech/tech3350.pdf?vers=1.0</textual></link><textual class="po-textual">
		</textual></bibliomixed><bibliomixed class="po-block e186 e186" xml:id="TTMLCandidate2010" xreflabel="TC10"><textual class="po-textual">Glenn Adams (ed.), Timed Text Markup Language (TTML) 1.0, W3C Candidate Recommendation 23 February 2010.
		</textual><link class="po-inline e187 e187" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">http://www.w3.org/TR/2010/CR-ttaf1-dfxp-20100223/</textual></link><textual class="po-textual">
		</textual></bibliomixed><bibliomixed class="po-block e188 e188" xml:id="TTMLFinal2010" xreflabel="TF10"><textual class="po-textual">Glenn Adams (ed.), Timed Text Markup Language (TTML) 1.0, W3C Recommendation 18 November 2010.
		</textual><link class="po-inline e189 e189" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">http://www.w3.org/TR/2010/REC-ttaf1-dfxp-20101118/</textual></link><textual class="po-textual">
		</textual></bibliomixed><bibliomixed class="po-block e190 e190" xml:id="FCC2012" xreflabel="FCC12"><textual class="po-textual">Federal Communications Commission, Small Entity Compliance Guide, Closed Captioning of Internet Protocol Delivered Video Programming: Implementation of the Twenty First Century Communications and Video Accessibility Act of 2010, MB Docket No. 11 - 154, FCC 12 - 9.
		 </textual><link class="po-inline e191 e191" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">http://www.fcc.gov/document/closed-captioning-internet-protocol-delivered-video-programming-1</textual></link><textual class="po-textual">
		</textual></bibliomixed><bibliomixed class="po-block e192 e192" xml:id="HickVideo2010" xreflabel="H10"><textual class="po-textual">Hickson, Ian, Timed tracks for  &lt;video&gt;, Email on the Public mailing list for the WHAT working group, 2010-04-09.
		</textual><link class="po-inline e193 e193" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-July/027386.html</textual></link><textual class="po-textual">
		</textual></bibliomixed><bibliomixed class="po-block e194 e194" xml:id="W3CWebvtt2013" xreflabel="W13"><textual class="po-textual">Hickson, Ian, Pfeiffer, Silvia, WebVTT: The Web Video Text Tracks Format, W3C Community Group Draft Report.
		 </textual><link class="po-inline e195 e195" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">http://dev.w3.org/html5/webvtt/</textual></link><textual class="po-textual">
		</textual></bibliomixed><bibliomixed class="po-block e196 e196" xml:id="PfeifIntro2012" xreflabel="P11"><textual class="po-textual">Pfeiffer, Silvia, Conversion of 608/708 captions to WebVTT. Draft Community Group Specification 11 July 2013.</textual><link class="po-inline e197 e197" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">https://dvcs.w3.org/hg/text-tracks/raw-file/default/608toVTT/608toVTT.html</textual></link><textual class="po-textual">
		</textual></bibliomixed><bibliomixed class="po-block e198 e198" xml:id="PfeifIntro2010" xreflabel="P10"><textual class="po-textual">Pfeiffer, Silvia, Introduction of media accessibility features, Email thread started by Silvia Pfeiffer on the Public mailing list for the WHAT working group, 2010-04-09. </textual><link class="po-inline e199 e199" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-April/025898.html</textual></link><textual class="po-textual">
		</textual></bibliomixed><bibliomixed class="po-block e200 e200" xml:id="SMPTETimedText2010" xreflabel="S10"><textual class="po-textual">Society of Motion Picture and Television Engineers (SMPTE), SMPTE Standard for Television - Timed Text Format (SMPTE-TT), SMPTE ST 2052-1:2010.
		</textual><link class="po-inline e201 e201" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">http://www.smpte.org/sites/default/files/st2052-1-2010.pdf</textual></link><textual class="po-textual">
		</textual></bibliomixed><bibliomixed class="po-block e202 e202" xml:id="VlistJson2013" xreflabel="V13"><textual class="po-textual">Van der Vlist, Eric, Embracing JSON? Of course, but how?, XML Prague 2013, Conference Proceedings, p.163-188.
		</textual><link class="po-inline e203 e203" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">http://archive.xmlprague.cz/2013/files/xmlprague-2013-proceedings.pdf</textual></link><textual class="po-textual">
		</textual></bibliomixed><bibliomixed class="po-block e204 e204" xml:id="KestXML2012" xreflabel="K12"><textual class="po-textual">Van Kesteren, Anne, XML5's Story, XML Prague 2012, Conference Proceedings, p. 23-25.
		 </textual><link class="po-inline e205 e205" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">http://archive.xmlprague.cz/2012/files/xmlprague-2012-proceedings.pdf</textual></link><textual class="po-textual">
		</textual></bibliomixed><bibliomixed class="po-block e206 e206" xml:id="WHATList2004" xreflabel="W04"><textual class="po-textual">Web Hypertext Application Technology Working Group (WHATWG), WHAT open mailing list announcement, June 4th 2004.
		</textual><link class="po-inline e207 e207" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">http://www.whatwg.org/news/start</textual></link><textual class="po-textual">
		</textual></bibliomixed><bibliomixed class="po-block e208 e208" xml:id="W3CWiki2010" xreflabel="W12"><textual class="po-textual">World Wide Web Consortium (W3C), DraconianErrorHandling, W3C Wiki, 9 February 2010.
		 </textual><link class="po-inline e209 e209" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">http://www.w3.org/html/wg/wiki/index.php?title=DraconianErrorHandling&amp;oldid=1526</textual></link><textual class="po-textual">
		</textual></bibliomixed><bibliomixed class="po-block e210 e210" xml:id="W3CTTCharta2003" xreflabel="TT03"><textual class="po-textual">World Wide Web Consortium (W3C), W3C Timed Text Working Group Charter (TTWG), Initial Vesion.
		</textual><link class="po-inline e211 e211" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">http://www.w3.org/AudioVideo/TT/ttcharter20020901.html. 
		</textual></link><textual class="po-textual">
		</textual></bibliomixed><bibliomixed class="po-block e212 e212" xml:id="W3CTT2002" xreflabel="TT02"><textual class="po-textual">World Wide Web Consortium (W3C), Standardized Timed-text Format, W3C Working Draft 21 March 2002.
		 </textual><link class="po-inline e213 e213" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">http://www.w3.org/AudioVideo/timetext.html</textual></link><textual class="po-textual">
		</textual></bibliomixed><bibliomixed class="po-block e214 e214" xml:id="Youview2011" xreflabel="Y11"><textual class="po-textual">YouView TV Ltd, YouView Core Technical Specification, For Launch, Version 1.0, 14 April 2011.
		</textual><link class="po-inline e215 e215" xlink:actuate="onRequest" xlink:show="new" xlink:type="simple"><textual class="po-textual">http://industry.youview.com/resources/YouView_Core_Technical_Specification_1.0.pdf</textual></link><textual class="po-textual">
		</textual></bibliomixed></bibliography></article></classedDocument>